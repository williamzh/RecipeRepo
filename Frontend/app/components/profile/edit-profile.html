<div class="Container" ng-controller="editProfileController" ng-init="init()">
	<div ng-show="showError" class="u-spacingBottomMd">
		<alert type="danger" preamble="{{'global/errorAlertPreamble'}}" message="{{'profile/updateErrorMessage' | translate}}"></alert>
	</div>

	<div ng-show="profileUpdated" class="u-spacingBottomMd">
		<alert type="success" message="{{'profile/updateSuccessMessage' | translate}}"></alert>
	</div>

	<form name="editProfileForm" ng-submit="updateProfile()">
		<h1 class="u-spacingBottomMd">{{'profile/editProfileHeading' | translate}}</h1>

		<h2 class="u-spacingBothSm">{{'profile/personalDetailsHeading' | translate}}</h2>
		<div class="Grid Grid--withGutter" validator>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control">
					<input type="text" class="Control-field" name="userName" placeholder="{{'profile/userNameLabel' | translate}}" ng-model="profile.userName" disabled>
				</div>
			</div>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control" ng-class="{ 'has-error': hasError('firstName') }">
					<input type="text" class="Control-field" name="firstName" placeholder="{{'profile/firstNameLabel' | translate}}" ng-model="profile.firstName" required>
					<span class="Control-error">{{'validation/firstNameRequired' | translate}}</span>
				</div>
			</div>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control" ng-class="{ 'has-error': hasError('lastName') }">
					<input type="text" class="Control-field" name="lastName" placeholder="{{'profile/lastNameLabel' | translate}}" ng-model="profile.lastName" required>
					<span class="Control-error">{{'validation/lastNameRequired' | translate}}</span>
				</div>
			</div>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control" ng-class="{ 'has-error': hasError('email') }">
					<input type="email" class="Control-field" name="email" placeholder="{{'profile/emailLabel' | translate}}" ng-model="profile.email" required>
					<span class="Control-error">{{'validation/emailRequired' |Â translate}}</span>
				</div>
			</div>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control" ng-class="{ 'has-error': hasError('password') }">
					<input type="password" class="Control-field" name="password" placeholder="{{'profile/passwordLabel' | translate}}" ng-model="profile.password" required>
					<span class="Control-error">{{'validation/passwordRequired' | translate}}</span>
				</div>
			</div>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control" ng-class="{ 'has-error': hasError('repeatPassword') }">
					<input type="password" class="Control-field" name="repeatPassword" placeholder="{{'profile/repeatPasswordLabel' | translate}}" ng-model="repeatPassword" required password-repeat='password'>
					<span class="Control-error">{{'validation/passwordRepeatMismatch' | translate}}</span>
				</div>
			</div>
		</div>

		<h2 class="u-spacingBothSm">{{'profile/languageHeading' | translate}}</h2>
		<div class="Grid Grid--withGutter" validator>
			<div class="Grid-cell u-sizeFull u-md-size1of2">
				<div class="Control">
					<select class="Control-field" ng-options="opt.value as opt.text for opt in supportedLanguages" ng-model="selectedLang"></select>
				</div>
			</div>
		</div>

		<div class="ButtonGroup ButtonGroup--alignRightJustified u-spacingTopMd">
			<button type="submit" class="Button Button--primary">{{'profile/editSubmitButton' | translate}}</button>
		</div>
	</form>	
</div>